schema: '2.0'
stages:
  join:
    cmd: "lyscripts data join --inputs data/2022-isb-multisite.csv data/2022-clb-multisite.csv\
      \ --output data/joined.csv\n"
    deps:
    - path: data/2022-clb-multisite.csv
      md5: c314b7b65b23b6dd5c0ac4e51b3646ca
      size: 120291
    - path: data/2022-isb-multisite.csv
      md5: 1e93faee094990b1022a83eb116a426b
      size: 184432
    outs:
    - path: data/joined.csv
      md5: 71841879203909ee89857bd241e49981
      size: 357907
  enhance:
    cmd: "lyscripts data enhance data/joined.csv data/enhanced.csv --modalities CT\
      \ MRI PET FNA diagnostic_consensus pathology pCT\n"
    deps:
    - path: data/joined.csv
      md5: 71841879203909ee89857bd241e49981
      size: 357907
    params:
      params.yaml:
        modalities:
          CT:
          - 0.76
          - 0.81
          MRI:
          - 0.63
          - 0.81
          PET:
          - 0.86
          - 0.79
          FNA:
          - 0.98
          - 0.8
          diagnostic_consensus:
          - 0.86
          - 0.81
          pathology:
          - 1.0
          - 1.0
          pCT:
          - 0.86
          - 0.81
          max_llh:
          - 1.0
          - 1.0
    outs:
    - path: data/enhanced.csv
      md5: 88021659113885872d44ac41065ff6ac
      size: 458572
  statistics:
    cmd: ".venv/bin/python scripts/statistics.py\n"
    deps:
    - path: data/enhanced.csv
      md5: c11857f2f4ebfa770ee2ff5628d69f0d
      size: 458572
    - path: scripts/statistics.py
      md5: fc53b4a142364b88da3ace48d55e2aeb
      size: 11756
    outs:
    - path: figures/statistics.png
      md5: 8ee419375b8fd843aa66d538dfae271b
      size: 224157
  copy:
    cmd: "bash copy.sh\n"
    deps:
    - path: copy.sh
      md5: 8f2f11ed8419c435154e665ba6f6d00a
      size: 794
    - path: figures
      md5: f455c05d252f7e0ae14efff782dd223a.dir
      size: 301591
      nfiles: 3
    - path: tables
      md5: 96769a0ce2ff9503ca9fe5f78e540322.dir
      size: 902
      nfiles: 3
  contra-involvement-table:
    cmd: ".venv/bin/python scripts/contra_involvement.py\n"
    deps:
    - path: data/enhanced.csv
      md5: c11857f2f4ebfa770ee2ff5628d69f0d
      size: 458572
    - path: scripts/contra_involvement.py
      md5: 6a369719f0b729e82bf223388ec1eeb8
      size: 2116
    outs:
    - path: tables/contra_involvement.csv
      md5: 8b92ff1820277cf6247c7be0b271a4d7
      size: 639
  tables@contra_involvement:
    cmd: ".venv/bin/python scripts/contra_involvement.py\n"
    deps:
    - path: data/enhanced.csv
      md5: 88021659113885872d44ac41065ff6ac
      size: 458572
    - path: scripts/contra_involvement.py
      md5: 091195bd62e027d37cef2847e4c96ff4
      size: 1652
    outs:
    - path: tables/contra_involvement.csv
      md5: 8b92ff1820277cf6247c7be0b271a4d7
      size: 639
  figures@statistics:
    cmd: ".venv/bin/python scripts/statistics.py\n"
    deps:
    - path: data/enhanced.csv
      md5: 88021659113885872d44ac41065ff6ac
      size: 458572
    - path: scripts/statistics.py
      md5: 5c5da03f0fa698b650bdcaac78ebaf64
      size: 10742
    outs:
    - path: figures/statistics.png
      md5: 8ee419375b8fd843aa66d538dfae271b
      size: 224157
  figures@venn_diagram:
    cmd: ".venv/bin/python scripts/venn_diagram.py\n"
    deps:
    - path: data/enhanced.csv
      md5: 88021659113885872d44ac41065ff6ac
      size: 458572
    - path: scripts/venn_diagram.py
      md5: b5bcd84266261287d4b26cae19db9e33
      size: 1843
    outs:
    - path: figures/venn_diagram.png
      md5: 3f6e8fb6fdbab05a73a9f101d578a4b4
      size: 77280
  tables@ece_data:
    cmd: ".venv/bin/python scripts/ece_data.py\n"
    deps:
    - path: data/enhanced.csv
      md5: 88021659113885872d44ac41065ff6ac
      size: 458572
    - path: scripts/ece_data.py
      md5: bc717d73e661fc3b671bb812508bd4c4
      size: 1315
    outs:
    - path: tables/ece_data.csv
      md5: 4bcfb44a048a115afe61582b9f0319f7
      size: 225
