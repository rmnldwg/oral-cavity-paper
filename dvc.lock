schema: '2.0'
stages:
  join:
    cmd: "lyscripts data join --inputs data/2022-isb-multisite.csv data/2022-clb-multisite.csv\
      \ --output data/joined.csv\n"
    deps:
    - path: data/2022-clb-multisite.csv
      md5: c314b7b65b23b6dd5c0ac4e51b3646ca
      size: 120291
    - path: data/2022-isb-multisite.csv
      md5: 1e93faee094990b1022a83eb116a426b
      size: 184432
    outs:
    - path: data/joined.csv
      md5: 71841879203909ee89857bd241e49981
      size: 357907
  enhance:
    cmd: "lyscripts data enhance data/joined.csv data/enhanced.csv --modalities CT\
      \ MRI PET FNA diagnostic_consensus pathology pCT\n"
    deps:
    - path: data/joined.csv
      md5: 71841879203909ee89857bd241e49981
      size: 357907
    params:
      params.yaml:
        modalities:
          CT:
          - 0.76
          - 0.81
          MRI:
          - 0.63
          - 0.81
          PET:
          - 0.86
          - 0.79
          FNA:
          - 0.98
          - 0.8
          diagnostic_consensus:
          - 0.86
          - 0.81
          pathology:
          - 1.0
          - 1.0
          pCT:
          - 0.86
          - 0.81
          max_llh:
          - 1.0
          - 1.0
    outs:
    - path: data/enhanced.csv
      md5: 9520156490dcf2ff137d9ac4e94dce8f
      size: 458572
  statistics:
    cmd: ".venv/bin/python scripts/statistics.py\n"
    deps:
    - path: data/enhanced.csv
      md5: 9520156490dcf2ff137d9ac4e94dce8f
      size: 458572
    - path: scripts/statistics.py
      md5: fb1b24c4b549f07f1662b21e6bdcd60c
      size: 11521
    outs:
    - path: figures/statistics.png
      md5: b14a065a879f39a4aa9f3ea971d4a2ee
      size: 223598
  copy:
    cmd: "bash copy.sh\n"
    deps:
    - path: copy.sh
      md5: d7fce89ba5c06fe576faab672140ed75
      size: 643
    - path: figures
      md5: 39347bbcce1ce3537d65f5807db2d90f.dir
      size: 223614
      nfiles: 2
